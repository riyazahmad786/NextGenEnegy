<div class="row">
  <div class="col-lg-12 col-md-12 col-sm-12 mb-10">
    <app-collapsible-panel title="Google Map" [isCollapsed]="false">
      <ng-template #panelContent>

        @if (showMap) {
        <google-map [options]="options" width="100%" height="300px" (mapClick)="clickMap($event)">
          <map-marker-clusterer [imagePath]="markerClustererImagePath">
            @for (circle of circles; track circle.id; let index = $index){
            <map-circle [options]="circle.circleOptions" [center]="circle" />
            <map-marker #marker="mapMarker" (mouseover)="openMouseoverMarkerInfoWindow(index)"
              [position]="{lat: circle.lat, lng: circle.lng}"
              [options]="{ icon: { url: circle.markerOptions.icon.url },label: { text: circle.markerOptions.label.text } }"
              (mapClick)=" circle.markerOptions.BuildingAvailable==1 ?openMarkerInfoWindow(circle.markerOptions.FacilityID, circle.markerOptions.LocationID, circle.markerOptions.LocationName, circle.markerOptions.SiteID): null">
            </map-marker>
            <map-info-window>
              <div [innerHTML]="circle.markerWindowInfo.html"></div>
            </map-info-window>
            }
          </map-marker-clusterer>
        </google-map>
        }
      </ng-template>
    </app-collapsible-panel>
  </div>
</div>